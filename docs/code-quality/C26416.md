---
title: C26416
ms.date: 11/15/2017
ms.topic: conceptual
f1_keywords:
- C26411
helpviewer_keywords:
- C26416
ms.assetid: f158207b-45cf-44cf-8e4b-b5b75b56ea0e
author: mikeblome
ms.author: mblome
manager: markl
ms.workload:
- multiple
ms.openlocfilehash: d204ec923fd17b14af5373f66aee65da593c4fef
ms.sourcegitcommit: 535ef05b1e553f0fc66082cd2e0998817eb2a56a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/07/2019
ms.locfileid: "72011622"
---
# <a name="c26416-no_rvalue_ref_shared_ptr"></a>C26416 NO_RVALUE_REF_SHARED_PTR
"Parametr sdíleného ukazatele je předán odkazem rvalue. Místo toho předejte hodnotu. "

**C++ Základní pokyny**: R. 34: Shared_ptr parametr @ no__t-0widget >, aby bylo možné vyjádřit, že funkce je vlastníkem části

Předání sdíleného ukazatele odkazem rvalue je obvykle zbytečné. Pokud se nejedná o implementaci sémantiky přesunutí pro samotný typ sdíleného ukazatele, mohou být objekty sdíleného ukazatele bezpečně předány hodnotou. Použití odkazu rvalue může také znamenat, že jedinečný ukazatel je vhodnější, protože jednoznačně přenáší jedinečné vlastnictví od volajícího na volaný.

## <a name="remarks"></a>Poznámky
- Tato kontrolu rozpoznává std:: shared_pointer a uživatelsky definované typy, které se budou nejspíš chovat jako sdílené ukazatele. Pro uživatelem definované sdílené ukazatele jsou očekávány následující vlastnosti:
- přetížené nebo operátory přístupu členů (veřejné a neodstraněno);
- Kopírovat konstruktor nebo operátor přiřazení kopie (Public a non-Deleted);
- veřejný destruktor, který se ani neodstraní ani nepoužívá jako výchozí. Prázdné destruktory se pořád počítají jako uživatelsky definované.

## <a name="example"></a>Příklad
Optimalizace konstruktoru s otázkou

```cpp
action::action(std::shared_ptr<transaction> &&t) noexcept // C26416
    : transaction_(std::move(t))
{}

action::action(std::shared_ptr<transaction> &t) noexcept  // also C26417 LVALUE_REF_SHARED_PTR
    : transaction_(t)
{}
```

## <a name="example"></a>Příklad
Optimalizace konstruktoru s otázkou – zjednodušené

```cpp
action::action(std::shared_ptr<transaction> t) noexcept
    : transaction_(std::move(t))
{}
```
