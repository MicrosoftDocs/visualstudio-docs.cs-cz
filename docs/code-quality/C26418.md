---
title: C26418 | Microsoft Docs
ms.date: 11/15/2017
ms.topic: conceptual
f1_keywords:
- C26418
helpviewer_keywords:
- C26418
ms.assetid: d2c84a40-8a5d-4018-92c2-6498cdd9b541
author: mikeblome
ms.author: mblome
manager: markl
ms.workload:
- multiple
ms.openlocfilehash: ccdd2170d083ca73f833667974353372c6f89545
ms.sourcegitcommit: 535ef05b1e553f0fc66082cd2e0998817eb2a56a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/07/2019
ms.locfileid: "72011378"
---
# <a name="c26418-no_value_or_const_ref_shared_ptr"></a>C26418 NO_VALUE_OR_CONST_REF_SHARED_PTR
"Parametr sdíleného ukazatele není kopírován ani přesunut. Místo toho použijte & T * nebo T. "

**C++ Základní pokyny**: R. 36: Ponechte const shared_ptr @ no__t-0widget > & parametr a vyjádřete tak, že by mohl uchovávat počet odkazů na objekt.

Pokud je parametr sdíleného ukazatele předán hodnotou nebo odkazem na objekt konstanty, očekává se, že funkce převezme kontrolu nad životností cílového objektu bez ovlivnění volajícího. Kód by měl buď zkopírovat nebo přesunout parametr sdíleného ukazatele do jiného sdíleného objektu ukazatele, nebo jej předat dalšímu kódu vyvoláním funkcí, které přijímají sdílené ukazatele. Pokud se nejedná o tento případ, může být vhodný jednoduchý ukazatel nebo odkaz.

## <a name="remarks"></a>Poznámky
- Tato kontrolu rozpoznává std:: shared_pointer a uživatelsky definované typy, které se budou nejspíš chovat jako sdílené ukazatele. Pro uživatelem definované sdílené ukazatele jsou očekávány následující vlastnosti:
- přetížené nebo operátory přístupu členů (veřejné a neodstraněno);
- Kopírovat konstruktor nebo operátor přiřazení kopie (Public a non-Deleted);
- veřejný destruktor, který se ani neodstraní ani nepoužívá jako výchozí. Prázdné destruktory se pořád počítají jako uživatelsky definované.

## <a name="example"></a>Příklad
zbytečné komplikace rozhraní

```cpp
template<class T>
std::string to_string(const std::shared_ptr<T> &e) // C26418, also C26415 SMART_PTR_NOT_NEEDED
{
    return !e ? null_string : e->to_string();
}
```

## <a name="example"></a>Příklad
nepotřebné komplikace rozhraní – zjednodušené

```cpp
template<class T>
std::string to_string(const T *e)
{
    return !e ? null_string : e->to_string();
}
```
