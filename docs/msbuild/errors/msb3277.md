---
title: "MSB3277: byly zjištěny konflikty mezi různými verzemi ' Assembly ', které nebylo možné přeložit."
description: K této chybě dojde během sestavení, je-li v sestavení stejného projektu odkazováno na více než jednu verzi stejného závislého sestavení.
ms.date: 03/31/2021
ms.topic: error-reference
f1_keywords:
- MSB3277
- MSBuild.ResolveAssemblyReference.FoundConflicts
dev_langs:
- VB
- CSharp
- C++
- FSharp
author: ghogen
ms.author: ghogen
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: 7606cd32e440e49adef578d13358978acc8c1b78
ms.sourcegitcommit: dd2fc6e03a789c044f8438096b8f112e4dba5557
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/06/2021
ms.locfileid: "108640820"
---
# <a name="msb3277-found-conflicts-between-different-versions-of-assembly-that-could-not-be-resolved"></a>MSB3277: byly zjištěny konflikty mezi různými verzemi ' Assembly ', které nebylo možné přeložit.

K této chybě dojde během sestavení, je-li v sestavení stejného projektu odkazováno na více než jednu verzi stejného závislého sestavení. V sestavení .NET se musí všechna sestavení, která jsou odkazována přímo nebo nepřímo prostřednictvím jiných odkazovaných sestavení, překládat na stejnou verzi. Při sestavování stejného binárního souboru nelze odkazovat na dvě různé a konfliktní verze stejného sestavení. Tato chyba je vygenerována [úlohou ResolveAssemblyReference –](../resolveassemblyreference-task.md), která prohlíží všechna odkazovaná sestavení a všechna sestavení, která jsou odkazována nepřímo pomocí těchto sestavení a tak dále, dokud nebudou přeloženy všechny odkazy na sestavení.

## <a name="diagnosing-the-error"></a>Diagnostikování chyby

Chcete-li diagnostikovat chybu, nejprve povolte diagnostický protokol (použijte `-verbosity:diag` přepínač příkazového řádku) a zkontrolujte soubor protokolu nástroje MSBuild s úplným výstupem diagnostiky. Pokud k této chybě dochází v nástroji MSBuild 16. x nebo novější, konkrétní verze, které jsou v konfliktu, jsou zapsány do souboru protokolu. Pokud používáte starší verzi nástroje MSBuild, nejedná se o soubor protokolu, ale obvykle můžete postupovat podle řetězu závislostí a najít konfliktní odkaz. Podívejte se na všechna sestavení, na která projekt odkazuje, a na která sestavení odkazují, a tak dále, dokud nenajdete konfliktní verze (y).

Protokol diagnostiky by měl specifikovat nejen to, které verze sestavení byly v konfliktu, ale přesně proč byly zváženy, to znamená, že došlo k odkazování na *assembly1.dll*, které odkazovalo *assembly2.dll* verze x, ale také existoval odkaz na *assembly2.dll* verze y a nástroj MSBuild nemůže zjistit, která byla správnou verzí.  Následuje ukázka z diagnostického protokolu, který ukazuje konflikt mezi dvěma verzemi StreamJsonRpc:

```output
There was a conflict between "StreamJsonRpc, Version=2.1.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" and "StreamJsonRpc, Version=2.2.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a".
    "StreamJsonRpc, Version = 2.1.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" was chosen because it was primary and "StreamJsonRpc, Version=2.2.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" was not.
    References which depend on "StreamJsonRpc, Version = 2.1.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" [C:\Users\user\.nuget\packages\streamjsonrpc\2.1.74\lib\netstandard2.0\StreamJsonRpc.dll].
    C:\Users\user\.nuget\packages\streamjsonrpc\2.1.74\lib\netstandard2.0\StreamJsonRpc.dll
          Project file item includes which caused reference "C:\Users\user\.nuget\packages\streamjsonrpc\2.1.74\lib\netstandard2.0\StreamJsonRpc.dll".
            C:\Users\user\.nuget\packages\streamjsonrpc\2.1.74\lib\netstandard2.0\StreamJsonRpc.dll
        C:\Users\user\.nuget\packages\microsoft.servicehub.framework\2.0.72\lib\netstandard2.0\Microsoft.ServiceHub.Framework.dll
          Project file item includes which caused reference "C:\Users\user\.nuget\packages\microsoft.servicehub.framework\2.0.72\lib\netstandard2.0\Microsoft.ServiceHub.Framework.dll".
            C:\Users\user\.nuget\packages\microsoft.servicehub.framework\2.0.72\lib\netstandard2.0\Microsoft.ServiceHub.Framework.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.shell.15.0\16.4.29318.21\lib\net472\Microsoft.VisualStudio.Shell.15.0.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.datadesign.common\16.0.28321-alpha\lib\net472\Microsoft.VisualStudio.DataDesign.Common.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.languageservices\3.2.0-beta4-19359-03\lib\net472\Microsoft.VisualStudio.LanguageServices.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.projectsystem\16.2.133-pre\lib\net472\Microsoft.VisualStudio.ProjectSystem.VS.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.shell.design\16.0.28316-pre\lib\net45\Microsoft.VisualStudio.Shell.Design.dll
            C:\Users\user\.nuget\packages\microsoft.vsdesigner\16.0.28321-alpha\lib\net472\Microsoft.VSDesigner.dll
        C:\Users\user\.nuget\packages\microsoft.visualstudio.language\16.0.428\lib\net472\Microsoft.VisualStudio.Language.dll
          Project file item includes which caused reference "C:\Users\user\.nuget\packages\microsoft.visualstudio.language\16.0.428\lib\net472\Microsoft.VisualStudio.Language.dll".
            C:\Users\user\.nuget\packages\microsoft.visualstudio.language\16.0.428\lib\net472\Microsoft.VisualStudio.Language.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.editor\16.0.428\lib\net472\Microsoft.VisualStudio.Editor.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.languageservices\3.2.0-beta4-19359-03\lib\net472\Microsoft.VisualStudio.LanguageServices.dll
        C:\Users\user\.nuget\packages\microsoft.visualstudio.languageservices\3.2.0-beta4-19359-03\lib\net472\Microsoft.VisualStudio.LanguageServices.dll
          Project file item includes which caused reference "C:\Users\user\.nuget\packages\microsoft.visualstudio.languageservices\3.2.0-beta4-19359-03\lib\net472\Microsoft.VisualStudio.LanguageServices.dll".
            C:\Users\user\.nuget\packages\microsoft.visualstudio.languageservices\3.2.0-beta4-19359-03\lib\net472\Microsoft.VisualStudio.LanguageServices.dll
        C:\Users\user\.nuget\packages\microsoft.visualstudio.utilities\16.4.29317.144\lib\net46\Microsoft.VisualStudio.Utilities.dll
          Project file item includes which caused reference "C:\Users\user\.nuget\packages\microsoft.visualstudio.utilities\16.4.29317.144\lib\net46\Microsoft.VisualStudio.Utilities.dll".
            C:\Users\user\.nuget\packages\microsoft.visualstudio.utilities\16.4.29317.144\lib\net46\Microsoft.VisualStudio.Utilities.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.imaging\16.4.29317.144\lib\net472\Microsoft.VisualStudio.Imaging.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.languageservices\3.2.0-beta4-19359-03\lib\net472\Microsoft.VisualStudio.LanguageServices.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.shell.15.0\16.4.29318.21\lib\net472\Microsoft.VisualStudio.Shell.15.0.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.datadesign.common\16.0.28321-alpha\lib\net472\Microsoft.VisualStudio.DataDesign.Common.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.projectsystem\16.2.133-pre\lib\net472\Microsoft.VisualStudio.ProjectSystem.VS.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.shell.design\16.0.28316-pre\lib\net45\Microsoft.VisualStudio.Shell.Design.dll
            C:\Users\user\.nuget\packages\microsoft.visualstudio.shell.framework\16.4.29318.21\lib\net472\Microsoft.VisualStudio.Shell.Framework.dll
            C:\Users\user\.nuget\packages\microsoft.vsdesigner\16.0.28321-alpha\lib\net472\Microsoft.VSDesigner.dll
    References which depend on "StreamJsonRpc, Version = 2.2.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" [].
```

## <a name="common-fixes"></a>Běžné opravy

V závislosti na hlavní příčině konfliktu může být oprava aktualizace verze sestavení na disku, například upgradem nebo opětovnou instalací balíčku nebo sady SDK nástroje NuGet. Pokud chcete pouze aktualizovat všechny balíčky na nejnovější verze, můžete spustit příkaz `Update-Package --reinstall` z konzoly Správce balíčků v aplikaci Visual Studio. Viz [Přeinstalace a aktualizace balíčků](/nuget/consume-packages/reinstalling-and-updating-packages). Může to však být, že máte záměrně na disku více než jednu verzi odkazovaného sestavení, ale váš projekt nebo jedna z jeho závislostí musí být aktualizovány, aby odkazovaly na nejnovější verzi kolidujícího sestavení, které jste nainstalovali. Globální mezipaměť sestavení (GAC) může být také zdrojem možného konfliktu, v případech, kdy odkazujete na konkrétní verzi sestavení, ale GAC ho přepíše. Viz [globální mezipaměť sestavení (GAC](/dotnet/framework/app-domains/gac)).

## <a name="third-party-components"></a>Komponenty třetích stran

Pokud je konflikt v komponentě třetí strany, nemusí být komponenta podporována verzí konfliktního sestavení, které používáte ve vašem projektu. Podívejte se na třetí stranu a zjistěte, jestli nabízejí aktualizovanou kompatibilní verzi. Pokud není k dispozici, může být řešením downgrade na verzi kolidujícího sestavení, na které odkazujete, podle verze, kterou používá komponenta třetí strany.

## <a name="binding-redirects"></a>Přesměrování vazeb

V některých případech může váš projekt určit přesměrování vazby, což vynucuje volání pro použití zadané verze sestavení. Viz [Přesměrování verzí sestavení](/dotnet/framework/configure-apps/redirect-assembly-versions) pro pochopení, jak funguje přesměrování vazby. Visual Studio nebo nastavení v souborech projektu můžou povolit nebo zakázat automatické přesměrování vazby. Viz [Postup: povolení a zákaz automatického přesměrování vazby](/dotnet/framework/configure-apps/how-to-enable-and-disable-automatic-binding-redirection). Zkontrolujte nastavení a ujistěte se, že jste pochopili, jak a proč váš projekt používá přesměrování vazby.

## <a name="loading-multiple-versions-of-the-same-assembly"></a>Načítání více verzí stejného sestavení

V pokročilých scénářích by také mohlo být, že pracujete s projektem, který záměrně vyžaduje více než jednu verzi stejného sestavení. Můžete použít speciální techniky k přepsání normálního procesu načítání sestavení k dosažení cíle. Viz [řešení zátěže sestavení](/dotnet/standard/assembly/resolve-loads). Nezapomeňte pochopit a postupovat podle pokynů v článku [osvědčené postupy pro načítání sestavení](/dotnet/framework/deployment/best-practices-for-assembly-loading).

## <a name="see-also"></a>Viz také

- [Způsob, jakým modul runtime vyhledává sestavení](/dotnet/framework/deployment/how-the-runtime-locates-assemblies)